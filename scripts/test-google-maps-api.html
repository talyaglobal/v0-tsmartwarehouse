<!DOCTYPE html>
<html>
<head>
    <title>Google Maps API Test</title>
</head>
<body>
    <h1>Google Maps API Test</h1>
    <div id="status">Loading...</div>
    <input id="autocomplete" type="text" placeholder="Enter a city" style="width: 400px; padding: 10px; margin-top: 20px;">

    <script>
        const apiKey = 'AIzaSyAwz8Ut2C--xb5xrEP2MXELmf1rT6YxipM';

        function loadScript() {
            const script = document.createElement('script');
            script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=places&callback=initAutocomplete`;
            script.async = true;
            script.defer = true;
            document.head.appendChild(script);
        }

        function initAutocomplete() {
            const input = document.getElementById('autocomplete');
            const autocomplete = new google.maps.places.Autocomplete(input, {
                types: ['(cities)', '(regions)'],
                fields: ['formatted_address', 'geometry', 'address_components', 'place_id', 'name']
            });

            autocomplete.addListener('place_changed', () => {
                const place = autocomplete.getPlace();
                console.log('Place selected:', place);
                document.getElementById('status').innerHTML = `✅ Google Maps loaded successfully!<br>Selected: ${place.formatted_address || place.name}`;
            });

            document.getElementById('status').textContent = '✅ Google Maps loaded successfully! Try searching for a city.';
        }

        window.initAutocomplete = initAutocomplete;

        window.addEventListener('error', (e) => {
            if (e.message && e.message.includes('Google')) {
                document.getElementById('status').innerHTML = `❌ Error: ${e.message}`;
            }
        });

        loadScript();
    </script>
</body>
</html>
